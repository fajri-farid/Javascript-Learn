<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // ada banyak sekali call-backnya
      function getUser(userId, callback) {
        setTimeout(() => {
          console.log("User retrieved");
          callback(null, { id: userId, name: "John Doe" });
        }, 1000);
      }

      function getOrders(userId, callback) {
        setTimeout(() => {
          console.log("Orders retrieved");
          callback(null, [{ id: 1, userId: userId, product: "Laptop" }]);
        }, 1000);
      }

      function getOrderDetails(orderId, callback) {
        setTimeout(() => {
          console.log("Order details retrieved");
          callback(null, { id: orderId, product: "Laptop", price: 1000 });
        }, 1000);
      }

      getUser(1, (err, user) => {
        if (err) {
          console.error(err);
        } else {
          getOrders(user.id, (err, orders) => {
            if (err) {
              console.error(err);
            } else {
              getOrderDetails(orders[0].id, (err, orderDetails) => {
                if (err) {
                  console.error(err);
                } else {
                  console.log(orderDetails);
                }
              });
            }
          });
        }
      });
    </script>
  </body>
</html>
