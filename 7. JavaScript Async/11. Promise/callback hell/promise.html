<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function getUser(userId) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("User retrieved");
            resolve({ id: userId, name: "John Doe" });
            // Jika ada error, gunakan reject
            reject(new Error("Failed to retrieve user"));
          }, 1000);
        });
      }

      function getOrders(userId) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("Orders retrieved");
            resolve([{ id: 1, userId: userId, product: "Laptop" }]);
            // Jika ada error, gunakan reject
            reject(new Error("Failed to retrieve orders"));
          }, 1000);
        });
      }

      function getOrderDetails(orderId) {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("Order details retrieved");
            resolve({ id: orderId, product: "Laptop", price: 1000 });
            // Jika ada error, gunakan reject
            reject(new Error("Failed to retrieve order details"));
          }, 1000);
        });
      }

      getUser(1)
        .then((user) => getOrders(user.id))
        .then((orders) => getOrderDetails(orders[0].id))
        .then((orderDetails) => console.log(orderDetails))
        .catch((err) => console.error(err));
    </script>
  </body>
</html>
